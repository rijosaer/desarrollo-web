<div class="card p-3">
  <p-button
    label="Nuevo Registro"
    icon="pi pi-plus"
    severity="info"
    [routerLink]="['/history/create']"
    class="mb-3"
  ></p-button>

  <p-table [value]="history" [tableStyle]="{'min-width': '60rem'}">
    <!-- Encabezado -->
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id" style="width:8%">
          <div class="flex items-center gap-2">
            ID
            <p-sortIcon field="id"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="loanId" style="width:12%">
          <div class="flex items-center gap-2">
            Pr√©stamo
            <p-sortIcon field="loanId"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="event" style="width:15%">
          <div class="flex items-center gap-2">
            Evento
            <p-sortIcon field="event"></p-sortIcon>
          </div>
        </th>
        <th style="width:20%">Detalles</th>
        <th pSortableColumn="date" style="width:15%">
          <div class="flex items-center gap-2">
            Fecha
            <p-sortIcon field="date"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="status" style="width:10%">
          <div class="flex items-center gap-2">
            Estado
            <p-sortIcon field="status"></p-sortIcon>
          </div>
        </th>
      </tr>
    </ng-template>

    <!-- Cuerpo -->
    <ng-template pTemplate="body" let-h>
      <tr>
        <td>{{ h.id }}</td>
        <td>{{ h.loanId }}</td>
        <td>{{ h.event }}</td>
        <td>{{ h.details || '-' }}</td>
        <td>{{ h.date | date:'short' }}</td>
        <td>{{ h.status }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
